# üè† –ó–∞–ø—É—Å–∫ –Ω–∞ —á–∏—Å—Ç–æ–º localhost (–ë–ï–ó ngrok)

## üí° –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —Ç–≤–æ–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ, Mini App —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ `file://` –∏–ª–∏ `http://localhost`.

## ‚ö†Ô∏è –í–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å

Telegram Mini Apps **—Ç—Ä–µ–±—É—é—Ç HTTPS** –¥–ª—è —Ä–∞–±–æ—Ç—ã. –ù–æ –µ—Å—Ç—å 2 —Å–ø–æ—Å–æ–±–∞ –æ–±–æ–π—Ç–∏ —ç—Ç–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

### –°–ø–æ—Å–æ–± 1: –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ iframe (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
–°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—É—é HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É, –∫–æ—Ç–æ—Ä–∞—è —ç–º—É–ª–∏—Ä—É–µ—Ç Telegram –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

### –°–ø–æ—Å–æ–± 2: Telegram Bot Web App —Å –ª–æ–∫–∞–ª—å–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º
–ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º.

## üöÄ –°–ø–æ—Å–æ–± 1: –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ü–†–û–©–ï)

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π .env
cp .env.example .env
```

–ó–∞–ø–æ–ª–Ω–∏ `.env`:
```env
BOT_TOKEN=—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
ADMIN_BOT_TOKEN=—Ç–≤–æ–π_–∞–¥–º–∏–Ω_—Ç–æ–∫–µ–Ω
ADMIN_IDS=—Ç–≤–æ–π_telegram_id
WEBAPP_URL=http://localhost:8080
HOST=127.0.0.1
PORT=8080
```

### –®–∞–≥ 2: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î

```bash
python database/init_db.py
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
python run_local.py
```

**–ò–ª–∏ –≤—Ä—É—á–Ω—É—é –≤ 3-—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö:**
```bash
python server.py
python bot/main.py
python bot/admin_bot.py
```

### –®–∞–≥ 4: –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ

–û—Ç–∫—Ä–æ–π: **http://localhost:8080**

–¢–µ–ø–µ—Ä—å —Ç—ã –≤–∏–¥–∏—à—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ!

### –®–∞–≥ 5: –°–∏–º—É–ª—è—Ü–∏—è Telegram –æ–∫—Ä—É–∂–µ–Ω–∏—è

–Ø —Å–æ–∑–¥–∞–º —Ñ–∞–π–ª –∫–æ—Ç–æ—Ä—ã–π —ç–º—É–ª–∏—Ä—É–µ—Ç Telegram Web App API –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## üéØ –°–ø–æ—Å–æ–± 2: –°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π SSL

–î–ª—è –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ.

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏ OpenSSL (–æ–±—ã—á–Ω–æ —É–∂–µ –µ—Å—Ç—å)
# Windows: —Å–∫–∞—á–∞–π —Å https://slproweb.com/products/Win32OpenSSL.html

# –°–æ–∑–¥–∞–π —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
openssl req -x509 -newkey rsa:4096 -nodes -out cert.pem -keyout key.pem -days 365

# –û—Ç–≤–µ—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã (–º–æ–∂–Ω–æ –≤—Å—ë –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∫—Ä–æ–º–µ Common Name)
# Common Name: localhost
```

### –ó–∞–ø—É—Å–∫ —Å HTTPS

–Ø —Å–æ–∑–¥–∞–º –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π `server_https.py` –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å SSL.

## üîß –õ—É—á—à–∏–π –≤–∞—Ä–∏–∞–Ω—Ç: Standalone —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–º –æ—Ç–¥–µ–ª—å–Ω—É—é HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ë–ï–ó Telegram.
